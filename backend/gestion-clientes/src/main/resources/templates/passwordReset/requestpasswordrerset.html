<template>
    <div>
        <h2>Forgot Password</h2>
        <form @submit.prevent="requestPasswordReset">
            <input v-model="email" type="email" placeholder="Enter your email" required />
            <button type="submit">Send Reset Link</button>
            <div v-if="message" :class="{'error': isError, 'success': !isError}">
                {{ message }}
            </div>
        </form>
    </div>
</template>

<script>
    import axios from 'axios';

    export default {
        data() {
            return {
                email: '',
                message: '',
                isError: false
            };
        },
        methods: {
            async requestPasswordReset() {
                try {
                    await axios.post('/api/v1/auth/password-reset-request', { email: this.email });
                    this.message = 'Password reset link sent to your email!';
                    this.isError = false;
                } catch (error) {
                    this.message = 'Error sending password reset link. Please try again.';
                    this.isError = true;
                }
            }
        }
    };
</script>

<style>
    .error { color: red; }
    .success { color: green; }
</style>
